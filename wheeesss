const onRetentionChange = (e) => {
        if (e.value != '-1') {
            updateSelectedBookingRecord({
                cancellationDetails: {
                    ...cancellationDetails,
                    validateCancel: false,
                    retentionOption: e.value,
                    retentionReasonText: retentionreasonOptions?.find((x) => x.value === e.value)
                },
            });
        }
        else {
            updateSelectedBookingRecord({
                cancellationDetails: {
                    ...cancellationDetails,
                    validateCancel: false,
                    retentionOption: undefined,
                    retentionReasonText: undefined
                },
            });
        }
    };

    const onReasonChange = (e) => {
        setIsLoadingCategories(true);
        dispatch(
            getCancellationRetentionReason({ canellationReasonId: e.value },
                (response) => {
                    updateSelectedBookingRecord({
                        cancellationDetails: {
                            ...cancellationDetails,
                            validateCancel: false,
                            cancellationRetentionReason: response?.cancellationRetentionReasonList,
                            cancellationReasonId: e.value,
                        },
                    });
                    setIsLoadingCategories(false);

                }
            )
        );
    };
    const onCategoryChange = (e) => {
        if (!cancellationDetails.cancellationCategory) {
            categoryFunction({ ...cancellationDetails })
        }
        setIsLoadingCategories(true);
        const resetDetails = {
            cancellationWaiverReason: {},
            cancellationReasonId:""
        }
        dispatch(
            getCancellationReason(
                { ...cancelDetails, cancellationCategory: e.value },
                (response) => {
                    updateSelectedBookingRecord({
                        cancellationDetails: {
                            ...cancellationDetails,
                            ...resetDetails,
                            cancellationReason: response,
                            validateCancel: false,
                            selectedCancelCategory: e.value,
                        },
                    });
                    setIsLoadingCategories(false);
                }
            )
        );
    };
