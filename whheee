const onReasonChange = (e) => {
        setIsLoadingCategories(true);
        dispatch(
            getCancellationRetentionReason({ canellationReasonId: e.value },
                (response) => {
                    updateSelectedBookingRecord({
                        cancellationDetails: {
                            ...cancellationDetails,
                            validateCancel: false,
                            cancellationRetentionReason: response?.cancellationRetentionReasonList,
                            cancellationReasonId: e.value,
                        },
                    });
                    setIsLoadingCategories(false);

                }
            )
        );
    };
    const onCategoryChange = (e) => {
        if (!cancellationDetails.cancellationCategory) {
            categoryFunction({ ...cancellationDetails })
        }
        setIsLoadingCategories(true);
        dispatch(
            getCancellationReason(
                { ...cancelDetails, cancellationCategory: e.value },
                (response) => {
                    let object = {};
                    if (e.value === "") {
                        object = { cancellationWaiverReason: {}, cancellationReasonId: "" };
                    }
                    updateSelectedBookingRecord({
                        cancellationDetails: {
                            ...cancellationDetails,
                            cancellationReason: response,
                            validateCancel: false,
                            selectedCancelCategory: e.value,
                            ...object,
                        },
                    });
                    setIsLoadingCategories(false);
                }
            )
        );
    };

    return (
        <div>
            <div className="row">
                <div className="col-3">
                    <div className='d-flex'>
                        <Select
                            disabled={isCancelProceeded}
                            isSearchable={true}
                            name="Category"
                            options={categoryOptions}
                            onChange={(e) => {
                                onCategoryChange(e);
                            }}
                            className={validateCancelMenu && (!categoryName || categoryName === "") ? "ddlvalidation rounded flex-fill" : "flex-fill"}
                            value={cancellationDetails?.selectedCancelCategory ? categoryOptions?.find((x) => x.value === cancellationDetails?.selectedCancelCategory) : categoryOptions?.[0]}
                        />
                        <span className='font-weight-bold h4 text-danger ml-1'> * </span>
                    </div>
                </div>
                <div className="col-3">
                    <div className='d-flex'>
                        <Select
                            disabled={isCancelProceeded}
                            isSearchable={true}
                            name="Reason"
                            options={reasonOptions}
                            onChange={(e) => {
                                onReasonChange(e);
                            }}
                            className={validateCancelMenu && (!reasonId || reasonId === "") ? "ddlvalidation rounded flex-fill" : "flex-fill"}
                            value={cancellationDetails?.cancellationReasonId ? reasonOptions?.find((x) => x.value === cancellationDetails?.cancellationReasonId) : reasonOptions?.[0]}
                        />
                        <span className='font-weight-bold h4 text-danger ml-1'> * </span>
                    </div>
                </div>
